<app-authnavbar></app-authnavbar>
<div class="container mx-auto p-4 expenses">
  <h1 class="text-2xl font-bold text-center py-10 text-green-500">Cheltuieli</h1>
  <button class="px-8 py-2 mb-6 bg-green-500 hover:bg-green-600 text-white font-semibold rounded" (click)="addExpense()">
    Adaugare cheltuiala
  </button>
  <div class="overflow-x-auto">
    <table mat-table [dataSource]="dataSource" class="min-w-full mat-elevation-z8">
      
      <ng-container matColumnDef="Category">
        <th mat-header-cell *matHeaderCellDef class="font-semibold p-4">Category</th>
        <td mat-cell *matCellDef="let element" class="text-gray-700 p-4"> {{element.subcategory}} </td>
      </ng-container>
    
      <ng-container matColumnDef="Amount">
        <th mat-header-cell *matHeaderCellDef class="font-semibold p-4">Amount</th>
        <td mat-cell *matCellDef="let element" class="text-gray-700 p-4"> {{element.suma}} </td>
      </ng-container>

      <ng-container matColumnDef="CreatedAt">
        <th mat-header-cell *matHeaderCellDef class="font-semibold p-4">Date added</th>
        <td mat-cell *matCellDef="let element" class="text-gray-700 p-4"> {{element.createdAt | date:'medium'}} </td>
      </ng-container>

      <ng-container matColumnDef="Description">
        <th mat-header-cell *matHeaderCellDef class="font-semibold p-4">Description</th>
        <td mat-cell *matCellDef="let element" class="text-gray-700 p-4"> {{element.brand}} </td>
      </ng-container>

      <ng-container matColumnDef="Action">
        <th mat-header-cell *matHeaderCellDef class="font-semibold p-4">Actions</th>
        <td mat-cell *matCellDef="let element" class="flex justify-center space-x-2 p-4">
          <button class="bg-green-500 hover:bg-green-600 text-white rounded-full px-4 py-2 flex items-center justify-center" (click)="modify(element)">
            Edit
          </button>
          <button class="bg-red-500 hover:bg-red-600 text-white rounded-full px-4 py-2 flex items-center justify-center" (click)="deleteExpense(element.id)">
            Delete
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns" class="h-14"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="h-14"></tr>
    </table>
  </div>
</div>
